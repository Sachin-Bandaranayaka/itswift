# Admin Panel Setup Instructions

This document provides step-by-step instructions for setting up the admin panel and content automation system.

## Prerequisites

1. **Supabase Project**: Create a new Supabase project at [supabase.com](https://supabase.com)
2. **OpenAI API Key**: Get an API key from [OpenAI](https://platform.openai.com/api-keys)
3. **Brevo Account**: Sign up for Brevo (formerly Sendinblue) for email services
4. **Social Media API Access**: Set up LinkedIn and Twitter/X API access

## Setup Steps

### 1. Environment Configuration

1. Copy the example environment file:
   ```bash
   cp .env.example .env.local
   ```

2. Generate admin credentials:
   ```bash
   npm run setup-admin
   ```
   This will generate a secure password and hash. Copy the output to your `.env.local` file.

3. Fill in all the environment variables in `.env.local`:
   - **Supabase**: Get these from your Supabase project settings
   - **OpenAI**: Your OpenAI API key
   - **Brevo**: Your Brevo API key
   - **LinkedIn**: Your LinkedIn app credentials
   - **Twitter/X**: Your Twitter/X app credentials

### 2. Database Setup

1. In your Supabase project, go to the SQL Editor
2. Copy and paste the contents of `lib/database/schema.sql`
3. Run the SQL to create all required tables and indexes

### 3. Install Dependencies

```bash
npm install
```

### 4. Test the Setup

1. Start the development server:
   ```bash
   npm run dev
   ```

2. Visit the health check endpoint:
   ```
   http://localhost:3000/api/admin/health
   ```
   (You'll need to login first at `/admin/login`)

3. Check that all systems are healthy

## Environment Variables Reference

### Required Variables

| Variable | Description | Where to Get |
|----------|-------------|--------------|
| `NEXT_PUBLIC_SUPABASE_URL` | Your Supabase project URL | Supabase Project Settings |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | Supabase anonymous key | Supabase Project Settings |
| `SUPABASE_SERVICE_ROLE_KEY` | Supabase service role key | Supabase Project Settings |
| `OPENAI_API_KEY` | OpenAI API key | OpenAI Platform |
| `BREVO_API_KEY` | Brevo API key | Brevo Account Settings |
| `LINKEDIN_CLIENT_ID` | LinkedIn app client ID | LinkedIn Developer Portal |
| `LINKEDIN_CLIENT_SECRET` | LinkedIn app client secret | LinkedIn Developer Portal |
| `TWITTER_API_KEY` | Twitter/X API key | Twitter Developer Portal |
| `TWITTER_API_SECRET` | Twitter/X API secret | Twitter Developer Portal |
| `TWITTER_ACCESS_TOKEN` | Twitter/X access token | Twitter Developer Portal |
| `TWITTER_ACCESS_TOKEN_SECRET` | Twitter/X access token secret | Twitter Developer Portal |
| `ADMIN_USERNAME` | Admin username | Generated by setup script |
| `ADMIN_PASSWORD_HASH` | Hashed admin password | Generated by setup script |
| `NEXTAUTH_SECRET` | NextAuth secret key | Generated by setup script |
| `NEXTAUTH_URL` | Application URL | `http://localhost:3000` for dev |

## Security Notes

1. **Never commit `.env.local`** to version control
2. **Use strong passwords** for admin access
3. **Rotate API keys** regularly
4. **Enable Row Level Security** in Supabase (already configured in schema)
5. **Use HTTPS** in production

## Troubleshooting

### Database Connection Issues
- Verify Supabase URL and keys are correct
- Check that RLS policies are properly set up
- Ensure tables were created successfully

### Authentication Issues
- Verify `NEXTAUTH_SECRET` is set
- Check that password hash was generated correctly
- Ensure `NEXTAUTH_URL` matches your domain

### API Integration Issues
- Test each API key individually
- Check API rate limits and quotas
- Verify API permissions and scopes

## Next Steps

After setup is complete:

1. Access the admin panel at `/admin`
2. Test content creation workflows
3. Configure automation rules
4. Set up monitoring and alerts

For implementation of specific features, refer to the tasks in `.kiro/specs/admin-content-automation/tasks.md`.